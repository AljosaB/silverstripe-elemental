!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=9)}([function(e,t){e.exports=React},function(e,t){e.exports=Injector},function(e,t){e.exports=GraphQLTag},function(e,t){e.exports=ReactApollo},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementType=void 0;var r=n(0),o={ID:r.PropTypes.number.isRequired,Title:r.PropTypes.string,Summary:r.PropTypes.string};t.elementType=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(7),i=r(o),a=n(8),u=r(a);window.document.addEventListener("DOMContentLoaded",function(){(0,i.default)(),(0,u.default)()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(21),i=r(o),a=n(0),u=r(a),l=n(18),c=r(l),s=n(1);i.default.entwine("ss",function(e){e(".js-injector-boot .element-editor__container").entwine({onmatch:function(){var e={},t=(0,s.loadComponent)("ElementEditor",e),n=this.data("schema"),r={pageId:n["page-id"]};c.default.render(u.default.createElement(t,r),this[0])},onunmatch:function(){c.default.unmountComponentAtNode(this[0])}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(10),u=r(a),l=n(11),c=r(l),s=n(12),f=r(s),p=n(13),d=r(p);t.default=function(){i.default.component.registerMany({ElementEditor:c.default,ElementToolbar:d.default,ElementList:f.default,Element:u.default})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=r(o),a=n(16),u=r(a),l=n(14),c=r(l),s=n(17),f=r(s),p=n(15),d=r(p);t.default=function(){i.default.transform("elemental-fieldgroup",function(e){e.component("FieldGroup.HistoryViewer.VersionDetail",c.default,"HistoricElement")},{after:"field-holders"}),i.default.transform("elements-history",function(e){e.component("HistoryViewer.Form_ItemEditForm",u.default,"ElementHistoryViewer")}),i.default.transform("blocks-history-revert",function(e){e.component("HistoryViewerToolbar.VersionedAdmin.HistoryViewer.Element.HistoryViewerVersionDetail",f.default,"BlockRevertMutation")}),i.default.transform("cms-element-editor",function(e){e.component("ElementList",d.default,"PageElements")})}},function(e,t,n){"use strict";n(6),n(5)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(4),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props.element,t=e.ID,n=e.Title,r=e.Summary;return t?l.default.createElement("div",{className:"element-editor__element"},l.default.createElement("p",null,"#",t,": ",n),l.default.createElement("p",null,r)):null}}]),t}(u.PureComponent);s.propTypes={element:c.elementType},s.defaultProps={element:null},t.default=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(1),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.ToolbarComponent,n=e.ListComponent,r=e.pageId;return l.default.createElement("div",{className:"element-editor"},l.default.createElement(t,null),l.default.createElement(n,{pageId:r}))}}]),t}(u.PureComponent);s.propTypes={pageId:u.PropTypes.number.isRequired},s.defaultProps={},t.default=(0,c.inject)(["ElementToolbar","ElementList"],function(e,t){return{ToolbarComponent:e,ListComponent:t}},function(){return"ElementEditor"})(s)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(4),s=n(1),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"renderBlocks",value:function(){var e=this.props,t=e.ElementComponent,n=e.blocks;return n?n.map(function(e){return l.default.createElement(t,{key:e.ID,element:e})}):null}},{key:"render",value:function(){return l.default.createElement("div",{className:"elemental-editor__list"},this.renderBlocks())}}]),t}(u.Component);f.propTypes={blocks:u.PropTypes.arrayOf(c.elementType)},f.defaultProps={blocks:[]},t.default=(0,s.inject)(["Element"],function(e){return{ElementComponent:e}},function(){return"ElementEditor.ElementList"})(f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){return l.default.createElement("div",null)}}]),t}(u.PureComponent);c.defaultProps={},c.propTypes={},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},c=n(0),s=r(c),f=n(20),p=r(f),d=n(19),m=r(d),y=function(e){return function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getClassName",value:function(){var e=[l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getClassName",this).call(this)];return this.props.data.ElementID&&e.unshift("elemental-area__element--historic-inner"),(0,m.default)(e)}},{key:"render",value:function(){var e=this.getLegend(),n=this.props.data.tag||"div",r=this.getClassName(),o=this.props.data;return o.ElementID?s.default.createElement(n,{className:r},e,s.default.createElement("div",{className:"elemental-preview elemental-preview--historic"},o.ElementEditLink&&s.default.createElement("a",{className:"elemental-preview__link",href:o.ElementEditLink},p.default._t("HistoricElementView.BLOCK_HISTORY","View block"),s.default.createElement("i",{className:"font-icon-angle-right"})),s.default.createElement("div",{className:"elemental-preview__icon"},s.default.createElement("i",{className:o.ElementIcon})),s.default.createElement("div",{className:"elemental-preview__detail"},s.default.createElement("h3",null,o.ElementTitle," ",s.default.createElement("small",null,o.ElementType)))),this.props.children):l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this)}}]),t}(e)};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.query=void 0;var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nquery ReadBlocksForPage($id:ID!) {\n  readOnePage(ID: $id, Versioning: {\n    Mode: LATEST\n  }){\n    ID\n    ElementalArea {\n      Elements {\n        pageInfo {\n          totalCount\n        }\n        edges {\n          node {\n            ID\n            Title\n            Summary\n          }\n        }\n      }\n    }\n  }\n}\n"],["\nquery ReadBlocksForPage($id:ID!) {\n  readOnePage(ID: $id, Versioning: {\n    Mode: LATEST\n  }){\n    ID\n    ElementalArea {\n      Elements {\n        pageInfo {\n          totalCount\n        }\n        edges {\n          node {\n            ID\n            Title\n            Summary\n          }\n        }\n      }\n    }\n  }\n}\n"]),o=n(3),i=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=(0,a.default)(r),l={options:function(e){return{variables:{id:e.pageId}}},props:function(e){var t=e.data,n=t.error,r=t.readOnePage,o=t.loading,i=null;r&&(i=r.ElementalArea.Elements.edges.map(function(e){return e.node}));var a=n&&n.graphQLErrors&&n.graphQLErrors.map(function(e){return e.message});return{loading:o||!i,blocks:i,graphQLErrors:a}}};t.query=u,t.config=l,t.default=(0,o.graphql)(u,l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.query=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nquery ReadHistoryViewerBlock ($block_id: ID!, $limit: Int!, $offset: Int!) {\n  readOneBlock(\n    Versioning: {\n      Mode: LATEST\n    },\n    ID: $block_id\n  ) {\n    ID\n    Versions (limit: $limit, offset: $offset) {\n      pageInfo {\n        totalCount\n      }\n      edges {\n        node {\n          Version\n          AbsoluteLink\n          Author {\n            FirstName\n            Surname\n          }\n          Publisher {\n            FirstName\n            Surname\n          }\n          Published\n          LiveVersion\n          LastEdited\n        }\n      }\n    }\n  }\n}\n"],["\nquery ReadHistoryViewerBlock ($block_id: ID!, $limit: Int!, $offset: Int!) {\n  readOneBlock(\n    Versioning: {\n      Mode: LATEST\n    },\n    ID: $block_id\n  ) {\n    ID\n    Versions (limit: $limit, offset: $offset) {\n      pageInfo {\n        totalCount\n      }\n      edges {\n        node {\n          Version\n          AbsoluteLink\n          Author {\n            FirstName\n            Surname\n          }\n          Publisher {\n            FirstName\n            Surname\n          }\n          Published\n          LiveVersion\n          LastEdited\n        }\n      }\n    }\n  }\n}\n"]),i=n(3),a=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=(0,u.default)(o),c={options:function(e){var t=e.recordId,n=e.limit;return{variables:{limit:n,offset:((e.page||1)-1)*n,block_id:t}}},props:function(e){var t=e.data,n=t.error,o=t.refetch,i=t.readOneBlock,a=t.loading,u=e.ownProps,l=u.actions,c=void 0===l?{versions:{}}:l,s=u.limit,f=u.recordId,p=i||null,d=n&&n.graphQLErrors&&n.graphQLErrors.map(function(e){return e.message});return{loading:a||!p,versions:p,graphQLErrors:d,actions:r({},c,{versions:r({},p,{goToPage:function(e){o({offset:((e||1)-1)*s,limit:s,block_id:f})}})})}}};t.query=l,t.config=c,t.default=(0,i.graphql)(l,c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.mutation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\nmutation revertBlockToVersion($id:ID!, $fromStage:VersionedStage!, $toStage:VersionedStage!, $fromVersion:Int!) {\n  copyBlockToStage(Input: {\n    ID: $id\n    FromVersion: $fromVersion\n    FromStage: $fromStage\n    ToStage: $toStage\n  }) {\n    ID\n  }\n}\n"],["\nmutation revertBlockToVersion($id:ID!, $fromStage:VersionedStage!, $toStage:VersionedStage!, $fromVersion:Int!) {\n  copyBlockToStage(Input: {\n    ID: $id\n    FromVersion: $fromVersion\n    FromStage: $fromStage\n    ToStage: $toStage\n  }) {\n    ID\n  }\n}\n"]),i=n(3),a=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=(0,u.default)(o),c={props:function(e){var t=e.mutate,n=e.ownProps.actions;return{actions:r({},n,{revertToVersion:function(e,n,r,o){return t({variables:{id:e,fromVersion:n,fromStage:r,toStage:o}})}})}},options:{refetchQueries:["ReadHistoryViewerBlock"]}};t.mutation=l,t.config=c,t.default=(0,i.graphql)(l,c)},function(e,t){e.exports=ReactDom},function(e,t){e.exports=classnames},function(e,t){e.exports=i18n},function(e,t){e.exports=jQuery}]);